/* ============================================================================
   Base / Layout
   ========================================================================== */

html, body { height: 100%; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, sans-serif;

  display: flex;
  flex-direction: column;
}

/* ============================================================================
   Header
   ========================================================================== */

header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
  border-bottom: 1px solid #ddd;
}

.title { font-weight: 700; margin-right: 8px; }

.statusArea {
  margin-left: auto;
  display: flex;
  align-items: center;
  gap: 10px;
}

#transcribeProgress {
  width: 180px;
  height: 14px;
}

/* Status pill (hidden by default) */
#status {
  display: none;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
}

/* Status pill states */
#status.info    { background: #e5e7eb; color: #1f2937; }
#status.working { background: #dbeafe; color: #1e40af; }
#status.error   { background: #fee2e2; color: #991b1b; }
#status.success { background: #dcfce7; color: #166534; }

/* ============================================================================
   Main Two-Pane Layout
   ========================================================================== */

main {
  flex: 1;
  min-height: 0;                 /* allows panes to scroll inside */
  display: grid;
  grid-template-columns: 1.1fr 0.9fr;
}

.wavePane, .textPane { min-width: 0; min-height: 0; }

/* ============================================================================
   Left Pane: Waveforms + Transports + Dev Panel
   ========================================================================== */

.wavePane {
  padding: 12px;
  border-right: 1px solid #ddd;

  display: flex;
  flex-direction: column;
  gap: 12px;
  min-height: 0;
}

/* A waveform + its transport, kept visually tight */
.waveBlock {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Waveform containers */
#waveform,
#waveDetail {
  height: 80px;
  border: 1px solid #ddd;
  border-radius: 8px;
}

/* Detail pane variables */
#waveDetailPane {
  /* Region highlight color for the detail waveform.
     Read by renderer.js and passed to WaveSurfer regions. */
  --word-region-color: rgba(0, 200, 0, 0.35);
}

.transport{
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  column-gap: 12px;
  align-items: center;
}

.transportGroup{
  min-width: 0;               /* allow shrinking inside grid cell */
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  white-space: nowrap;
}

/* Align contents inside each third */
.transportGroup.left   { justify-self: start; }
.transportGroup.center { justify-self: center; }
.transportGroup.right  { justify-self: end; }

.numericReadout {
  font-variant-numeric: tabular-nums;
}

.wavePane hr {
  width: 100%;
  border: 0;
  border-top: 1px solid #ddd;
  margin: 6px 0;   /* tweak to taste */
}

/* ============================================================================
   Right Pane: Transcript
   ========================================================================== */

.textPane {
  padding: 12px;
  overflow: auto;
}

.paneTitle {
  margin: 10px 0 6px;
  font-weight: 650;
}

#transcript {
  line-height: 1.8;
  font-size: 16px;
}

/* Transcript words */
.word {
  cursor: pointer;
  padding: 1px 2px;
  border-radius: 4px;
}

.word:hover { background: #f1f1f1; }

.word.active {
  background: #ffe08a;
}

/* ============================================================================
   Developer Panel (bottom of left column)
   ========================================================================== */

.devPanel {
  margin-top: auto;              /* push to bottom */
  padding-top: 8px;
}

.devPanel summary {
  cursor: pointer;
  user-select: none;
  padding: 8px 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #fafafa;

  display: flex;
  justify-content: space-between;
  gap: 10px;
  align-items: center;
}

.devTitle { font-weight: 650; }
.devHint  { color: #666; font-size: 12px; }

.devBody {
  margin-top: 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 10px;
  background: #fff;

  display: flex;
  flex-direction: column;
  gap: 12px;
}

.devSectionTitle { font-weight: 650; margin-bottom: 6px; }

.devRow {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.devRow label { font-size: 13px; color: #333; }
.muted { color: #666; font-size: 12px; }

/* Spec JSON editor */
#specJson {
  width: 100%;
  height: 160px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  font-size: 12px;
  line-height: 1.35;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 8px;
  resize: vertical;
}

/* Logs */
#log {
  max-height: 180px;
  overflow: auto;
  margin: 0;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  background: #0b0b0b;
  color: #e8e8e8;
  font-size: 12px;
  line-height: 1.35;
}